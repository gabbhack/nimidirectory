<!DOCTYPE html>
<html lang="en">
<head>
  <title>Nim Package Directory</title>
  <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="New and updated Nim packages" href="https://nimble.directory/packages.xml">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/highlite.css">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
  <script type="text/javascript" src="/js/app.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg fixed-top py-3">
  <div class="container">
    <a href="/" class="logo fw-500 display-1 text-black text-decoration-none navbar-brand"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item mx-2">
          <a href="https://nim-lang.org/" class="nav-link">What's Nim?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="/about.html" class="nav-link">What's Nimble?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="https://github.com/nim-lang/packages/" class="nav-link">Publish your package</a>
        </li>
        <!-- TODO: replace with something different -->
        <li class="nav-item ms-3">
          <a class="nav-link" href="https://www.youtube.com/channel/UCDAYn_VFt0VisL5-1a5Dk7Q/">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
          </a>
        </li>
        <li class="nav-item ms-3">
          <a class="nav-link theme-switcher-btn" id="darkmode" onclick="toggle_dark_mode()" href="#">
            <span id="light-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
            </span>
            <span id="dark-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="content">
  <div class="container">
    <div class="container pt-10">
        <h3 class="mb-3 fw-bold display-6 pt-4">syndicate</h3>
        <p class="tags">
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">actors</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">concurrency</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">dsl</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">library</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">rpc</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">syndicate</button></a>
                </span>
            
        </p>
        
            <p class="pkg-desc">Syndicated actors for conversational concurrency</p>
        
        <a title="Copy" onclick="document.querySelector('#cmd').select();document.execCommand('copy');"
            alt="Copy on clipboard">
            <i class="fa fa-copy"></i>
        </a>
        <input id="cmd" onclick="this.select();" value="nimble install syndicate" readonly="">
        <br>
        <small style="font-size: 0.8rem;">Need help? Read <a
                href="https://github.com/nim-lang/nimble#creating-packages">Nimble</a></small>
    </div>

    <div class="container row pt-4" id="pkg-content">
        <div class="col-8 box rounded p-3" id="readme-section">
            
                <document><h1>Syndicated Actors for Nim</h1>
<blockquote>
<p>The <a href="https://syndicate-lang.org/about/">Syndicated Actor model</a> is a new model of concurrency, closely related to the actor, tuplespace, and publish/subscribe models.</p>
</blockquote>
<p>The Syndicate library provides a code-generator and DSL for writing idiomatic Nim within the excution flow of the Syndicated Actor Model. The library allows for structured conversations with other programs and other languages. It can be used to implement distributed systems but also makes it possible to create dynamically reconfigurable programs using a process controller and a configuration conversation.</p>
<h2>The Preserves Data Language</h2>
<p><a href="https://preserves.dev/">Preserves</a> is foundational to Syndicate and likewise is the <a href="https://git.syndicate-lang.org/ehmry/preserves-nim">Nim Preserves</a> library foundation to this Syndicate implementation. When familiarizing yourself with the code here you will need to reference the documentation of that library as well.</p>
<h2>Examples</h2>
<h3>  <a href="./tests/test_chat.nim">test_chat</a></h3>
<p>Simple chat demo that is compatible with <a href="https://git.syndicate-lang.org/syndicate-lang/syndicate-py/src/branch/main/chat.py">chat.py</a>.</p>
<pre>  <code class="language-sh">SYNDICATE_ROUTE=&apos;&lt;route [&lt;unix &quot;/run/user/1000/dataspace&quot;&gt;] [&lt;ref {oid: &quot;syndicate&quot; sig: #x&quot;69ca300c1dbfa08fba692102dd82311a&quot;}&gt;]&gt;&apos; nim c -r tests/test_chat.nim --user:fnord
</code></pre>
<h3>  <a href="https://git.syndicate-lang.org/ehmry/syndicate_utils">syndicate_utils</a></h3>
<h2>Drivers</h2>
<p>This SAM implementation includes protocol drivers that may be instantiated from a library or as a standalone component.</p>
<p>For drivers that require additional dependencies see <a href="https://git.syndicate-lang.org/ehmry/syndicate_utils">syndicate_utils</a>.</p>
<h3>HTTP</h3>
<p>HTTP server and client. HTTPS is not supported.</p>
<ul>
<li>  <a href="./schema/http_driver.prs">http_driver.prs</a></li>
<li>  <a href="./src/syndicate/drivers/http_driver.nim">http_driver.nim</a></li>
</ul>
<h3>Subprocess</h3>
<p>Execute UNIX subprocesses and exchange data over stdio using messages.</p>
<ul>
<li>  <a href="./schema/subprocesses.prs">subprocesses.prs</a></li>
<li>  <a href="./src/syndicate/drivers/subprocesses.nim">subprocesses.nim</a></li>
</ul>
<h2>Tracing</h2>
<p>Tracing is enabled at compile-time by default, unless disabled with <code>--define:traceSyndicate=false</code>.
Tracing is not active at runtime unless the <code>$SYNDICATE_TRACE_FILE</code> environmental variable is set.
Tracing is currently not available for solo5.</p>
<p>  <a href="./tests/test_timers.trace.svg">    <img src="./tests/test_timers.trace.svg" style="max-width: 100%;" alt="trace" />  </a></p>
<p>There is an experimental tool for converting Syndicate traces to the <a href="https://graphviz.org/">Graphviz</a> dot format at <a href="src/syndicate/private/trace_to_dot.nim">trace-to-dot</a>.
It should be compatible with <a href="https://git.syndicate-lang.org/syndicate-lang/syndicate-protocols/src/branch/main/schemas/trace.prs">traces</a> from other Syndicate implementations.</p>
<h2>Recommendations</h2>
<p>The following are the authors recommendations for using this library and interoperating with external Syndicate components. If you find they differ from Tony Garnock-Jones recommendations, take Tony&apos;s recommendations instead.</p>
<h3>Speak the gatekeeper protocol to expose local entities</h3>
<p>When providing a service do not expose that service on the initial capability exposed to peers. Require that peers use the <a href="https://synit.org/book/protocols/syndicate/gatekeeper.html">gatekeeper protocol</a> to resolve service instead. Require the gatekeeper protocol regardless if the peer or transport is &quot;trusted&quot;.</p>
<p>Some lines of reasoning leading to this method:</p>
<ul>
<li>Components can multiplex services over a single protocol session.</li>
<li>Clients can &quot;step though&quot; relays directly into a service provided by your component using the standard gatekeeper routing mechanism.</li>
<li>Failure or success of service negotiation is made explicit.</li>
</ul>
<p>Furthermore, if a service requires dataspace semantics, provide clients with a dataspace that is local to the service. The reasoning being:</p>
<ul>
<li>Local assertions to local dataspaces only create transport traffic during observation by a peer.</li>
<li>A capability to a local service asserted to a peer can be asserted back to a different service hosted in the same daemon, in which case traffic between the service entities short circuits and becomes local traffic within a daemon (unless the client has amended caveats to a capability).</li>
</ul>
<p>Example of using the gatekeeper protocol within a Syndicate server configuration:</p>
<pre>  <code># When the foobar service is required…
? &lt;require-service &lt;service foobar ?detail&gt;&gt;
[
  # Require the foobard daemon…
  &lt;require-service &lt;daemon foobard&gt;&gt;
  ? &lt;service-object &lt;daemon foobard&gt; ?obj&gt;
  [
    # Resolve the service using the gatekeeper protocol and announce the capability
    # using a &lt;service-object &lt;service foobar …&gt; …&gt; assertion.
    let ?rewriter = &lt;* $config [ &lt;rewrite ?resp &lt;service-object &lt;service foobar $detail&gt; $resp&gt;&gt; ]&gt;
    $obj &lt;resolve &lt;$label $detail&gt; $rewriter&gt;
  ]
]
</code></pre>
<p>Example of a stacked sturdyref route:</p>
<pre>  <code>&lt;route
    [&lt;tcp &quot;example.net&quot; 1024&gt;]
    &lt;ref {oid: examples, sig: #[W1gClLD8dJDFt_NTYqd4xA]}&gt;
    &lt;example-service { turbo-mode-enable: #t }&gt;
    &lt;ref {oid: service-internals, sig: #[8SQ3tSe9r2dNwCnxd-pVvw]}&gt;
  &gt;
</code></pre>
<h3>Actors and Facets</h3>
<ul>
<li>Do not share data between actors, use communication instead. Assume that other actors are running on other CPU cores.</li>
<li>Facets are cheaper than actors. Share data between facets within an actor.</li>
</ul>
<h3>Observations of Observations</h3>
<p>Services can react to clients by observing observations or using <code>&lt;q …&gt;</code> and <code>&lt;a …&gt;</code> assertions from the <a href="https://git.syndicate-lang.org/syndicate-lang/syndicate-protocols/src/branch/main/schemas/rpc.prs">RPC protocol</a>.
Use both.
Observe observations and react to them by locally asserting <code>&lt;q …&gt;</code> and responding to the observer using data collected from the corresponding local <code>&lt;a …&gt;</code>.
This allows errors in either case to be observed via <code>&lt;a _ &lt;error ?&gt;&gt;</code>.</p>
<hr />
<p>This work has been supported by the <a href="https://nlnet.nl/">NLnet Foundation</a> and the European Commission&apos;s <a href="https://www.ngi.eu/">Next Generation Internet programme</a>. The <a href="https://syndicate-lang.org/projects/2021/system-layer/">Syndicate Actor Model</a> through the <a href="https://nlnet.nl/PET/">NGI Zero PET</a> program and this library as a part of the <a href="https://eris.codeberg.page/">ERIS project</a> through <a href="https://nlnet.nl/assure/">NGI Assure</a>.</p>
<p>  <a href="https://nlnet.nl/">    <img src="./nlnet.svg" style="max-width: 100%;" alt="NLnet" />  </a></p>
</document>
            
        </div>
        <div class="col-3" id="meta-section">
            <div class="container box rounded p-3">
                
                    <p>
                        <strong>Licence:</strong>
                        ISC
                    </p>
                

                
                    <p> <a href="https://syndicate-lang.org/">Project website</a> </p>
                

                
            </div>
        </div>
    </div>
</div>
</div>

<footer class="pt-10 px-3">
  <div class="container pt-4">
    <div class="row mb-4">
      <div class="col-lg-3">
        <h4 class="h5">Getting started with Nim</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://learnxinyminutes.com/docs/nim/">Learn Nim in 5 minutes</a></li>
          <li><a class="text-decoration-none" href="https://nim-by-example.github.io/">Nim by Example</a></li>
          <li><a class="text-decoration-none" href="https://play.nim-lang.org/">Official Playground</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Official Tutorials</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut1.html">General Tutorial</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut2.html">Advanced Features</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut3.html">Macros and Metaprogramming</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Nim for...</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-C-programmers">C programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-Python-Programmers">Python programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-TypeScript-Programmers">TypeScript programmers</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Documentation</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/lib.html">Standard Library</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/manual.html">Language Manual</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tools.html">Tools Documentation</a></li>
        </ul>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12 text-center mt-4 mx-auto">
        <a href="#" class="d-block mb-3 mx-auto bw"></a>
        <p class="text-muted">
        Created in <a href="https://nim-lang.org/">Nim</a> on <a href="https://pages.github.com/">GitHub Pages</a>.
        <a href="https://github.com/gabbhack/nimidirectory">Available</a>
        under <a href="https://en.wikipedia.org/wiki/GNU_General_Public_License#Version_3">GPLv3</a>
        </p>
        <p class="text-muted">
        Builded at 2025-01-11T01:37:10Z
        </p>
      </div>
    </div>
  </div>
</footer>
<script>
</script>
</body>
</html>
